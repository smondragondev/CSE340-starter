<% if (title) { %>
<h1><%= title %></h1>
<% } else {
  res.redirect('/')
} %>

<%- messages() %>
<% if (errors) { %>
  <ul class="notice">
 <% errors.array().forEach(error => { %>
   <li><%= error.msg %></li>
<%  }) %>
 </ul>
<% } %>
<form class="form" id="addInventoryForm" action="/inv/add-inventory" method="post">
    <label for="inv_make">
        Make:
    </label>
    <input type="text" name="inv_make" 
    id="inv_make" 
    placeholder="Enter a make"
    pattern="^[a-zA-Z0-9]+$"
    value="<%= locals.inv_make %>"
    required>
    <span class="hint">Make must contain only letters and numbers (no spaces or special characters).</span>
    <label for="inv_model">
        Model:
    </label>
    <input type="text" name="inv_model" 
    id="inv_model" 
    placeholder="Enter a model"
    pattern="^[a-zA-Z0-9]+$"
    value="<%= locals.inv_model %>"
    required>
    <span class="hint">Model must contain only letters and numbers (no spaces or special characters).</span>
    <label for="inv_year">
        Year:
    </label>
    <input type="number" name="inv_year" 
    id="inv_year" 
    min="1980"
    step="1"
    placeholder="Enter a year"
    value="<%= locals.inv_year %>"
    required>
    <label for="inv_description">
        Description:
    </label>
    <textarea name="inv_description" 
    id="inv_description" 
    placeholder="Enter a description"
    required><%= locals.inv_description %></textarea>
    <label for="inv_image">
        Image Path:
    </label>
    <input type="text" name="inv_image" 
    id="inv_image" 
    placeholder="Enter an image path"
    pattern="^\/[\w\-\/\.]+\.(jpg|jpeg|png|gif|webp)$"
    value="<%= locals.inv_image %>"
    required>
    <span class="hint">Image path must be a valid image file path (jpg, jpeg, png, webp) beginning with a slash.</span>
    
    <label for="inv_thumbnail">
        Thumbnail Path:
    </label>
    <input type="text" name="inv_thumbnail" 
    id="inv_thumbnail" 
    placeholder="Enter a thumbnail path"
    pattern="^\/[\w\-\/\.]+\.(jpg|jpeg|png|gif|webp)$"
    value="<%= locals.inv_thumbnail %>"
    required>
    <span class="hint">Thumbnail path must be a valid image file path (jpg, jpeg, png, webp) beginning with a slash.</span>
    
    <label for="inv_price">
        Price:
    </label>
    <input type="number" name="inv_price" 
    id="inv_price" 
    min="0.1"
    step="0.1"
    placeholder="Enter a price"
    value="<%= locals.inv_price %>"
    required>
    <label for="inv_miles">
        Mileage:
    </label>
    <input type="number" name="inv_miles" 
    id="inv_miles" 
    min="0.1"
    step="0.1"
    placeholder="Enter the mileage"
    value="<%= locals.inv_miles %>"
    required>
    <label for="inv_color">
        Color:
    </label>
    <input type="text" name="inv_color" 
    id="inv_color" 
    placeholder="Enter a color"
    pattern="^[a-zA-Z]+$"
    value="<%= locals.inv_color %>"
    required>    
    <%- classificationOptions %>
    <button>Add Inventory</button>
</form>